<div id="tblWrapper" dir="rtl" ng-repeat="node in nodeCtrl.nodes" ng-style="node.depth===0 && {'padding-bottom': '0', 'margin-bottom': '20px', 'border-bottom-style': 'solid'}" >

    <div id="rowWrapper" style="border-bottom-width: 1px; border-bottom-style:groove; " ng-style="(node.role==='admin' && {'background-color': '#92FFEB'}) || (node.role==='instructor' && {'background-color': '#F8FFFB'})">

        <div class="tblRow">
            <div class="tblCell" style="width:75%; " ng-style="{'padding-right':node.depth * 20 + 'px'}">

                <!--<div style="overflow: hidden; white-space: nowrap; text-overflow: ellipsis; ">-->

               <span style="width:70%" ng-style="node.depth===0 && {'font-weight':'bold'}">

                     <overflow-content class=non-expanded content="node.content"></overflow-content> <!-- TODO:add icon (glyphcon) of the role of the user -->
                   <!--</overflowExpender>-->
                   <!--<br>-->
               </span>

                <div ng-show="node.replyPressed" ng-style="{'padding-right':(node.depth+1) * 4 + 'px'}">

                    <div style="width:75%" >
                        <textarea class="form-control text-right" rows="4" placeholder="תגובתך.." ng-model="nodeCtrl.replyText" style="width:900px; margin: 5px; background-color: #DADAE5"></textarea>
                        <button type="submit" class="btn btn-primary btn-xs" ng-click="nodeCtrl.submitNewReply(node)">שליחה</button>
                        <button type="submit" class="btn btn-default btn-xs" ng-click="nodeCtrl.cancelReply(node)">ביטול</button>
                    </div>

                </div>


            </div>



            <div class="tblCell" style="width:10%; text-align:left">
                <span>{{::node.fname}} {{::node.lname}}</span>
                <span ng-class="{'glyphicon glyphicon-education': node.role==='student'}"></span>
                <span ng-class="{'glyphicon glyphicon-user': node.role==='instructor'}"></span>
            </div>

            <div class="tblCell" style="width:10%; text-align:left">
                <img ng-if="node.lastPost" ng-src="/resources/imgs/new_icon.gif"/>
                <i style="font-size: 10px">{{nodeCtrl.prettyDate(node.createdAt)}}</i>
            </div>

            <div class="tblCell" style="width:5%; text-align:center ;margin-bottom: 5px">

                <span class="glyphicon glyphicon-pencil btn btn-primary btn-xs" aria-hidden="true" ng-click="nodeCtrl.newReplyPressed(node)">
                    <small>תגובה</small>
                </span>

            </div>

        </div><div class="clear"></div>




    </div>

    <treenode ng-if="node.sub_arguments" nodes='node.sub_arguments' tree="tree" options="options" ng-show="node.expanded" id="{{node._id}}"></treenode>
</div>